{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"E:\\\\Do_connect\\\\app\\\\components\\\\Carousel\\\\NewsCarousel.js\";\nimport React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { create } from \"apisauce\";\nimport { Text, Spinner } from \"@ui-kitten/components\";\nimport Carousel from \"react-native-snap-carousel\";\n\nfunction NewsCarousel() {\n  var _this = this;\n\n  var _useState = useState([{\n    urlToImage: \"https://picsum.photos/id/237/200/300\",\n    url: \"\",\n    title: \"OOPs bad network\"\n  }]),\n      _useState2 = _slicedToArray(_useState, 2),\n      Articles = _useState2[0],\n      setArticles = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      activeIndex = _useState4[0],\n      setActiveIndex = _useState4[1];\n\n  useEffect(function () {\n    var api = create({\n      baseURL: \"https://newsapi.org/v2\"\n    });\n\n    function fetchData() {\n      var result;\n      return _regeneratorRuntime.async(function fetchData$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(api.get(\"/top-headlines?country=in&category=health&apiKey=c2c429428b644c709d33bc31f02cbb7f\"));\n\n            case 2:\n              result = _context.sent;\n\n              if (!result.ok) {\n                console.log(result.problem);\n              } else {\n                setArticles(result.data.articles.slice(5, 10));\n                console.log(Articles);\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    fetchData().catch(function (error) {\n      console.log(error);\n    });\n  }, []);\n  var ref = useRef(null);\n  var renderItem = useCallback(function (_ref) {\n    var item = _ref.item,\n        index = _ref.index;\n    return React.createElement(View, {\n      style: {\n        borderRadius: 5,\n        backgroundColor: \"#f2f2f2\",\n        overflow: \"hidden\",\n        justifyContent: \"center\",\n        alignContent: \"center\",\n        alignItems: \"center\",\n        textAlign: \"center\",\n        height: 250\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }\n    }, React.createElement(Image, {\n      style: {\n        width: 300,\n        flex: 4,\n        flexDirection: \"column\"\n      },\n      onPress: function onPress() {\n        Linking.openURL(item.url);\n      },\n      source: {\n        uri: item.urlToImage\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }), React.createElement(Text, {\n      numberOfLines: 2,\n      style: {\n        fontSize: 15,\n        flex: 1,\n        padding: 5\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, item.title));\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(Carousel, {\n    layout: \"default\",\n    autoplay: true,\n    enableMomentum: false,\n    lockScrollWhileSnapping: true,\n    autoplayDelay: 1000,\n    autoplayInterval: 3000,\n    ref: ref,\n    data: Articles,\n    sliderWidth: 300,\n    itemWidth: 300,\n    renderItem: renderItem,\n    loop: true,\n    onSnapToItem: function onSnapToItem(index) {\n      return setActiveIndex(index);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default NewsCarousel;","map":{"version":3,"sources":["E:/Do_connect/app/components/Carousel/NewsCarousel.js"],"names":["React","useState","useEffect","useRef","useCallback","create","Text","Spinner","Carousel","NewsCarousel","urlToImage","url","title","Articles","setArticles","activeIndex","setActiveIndex","api","baseURL","fetchData","get","result","ok","console","log","problem","data","articles","slice","catch","error","ref","renderItem","item","index","borderRadius","backgroundColor","overflow","justifyContent","alignContent","alignItems","textAlign","height","width","flex","flexDirection","Linking","openURL","uri","fontSize","padding"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport { View, StyleSheet, Image, Linking, ActivityIndicator } from \"react-native\";\nimport { create } from \"apisauce\";\nimport { Text, Spinner } from \"@ui-kitten/components\";\nimport Carousel from \"react-native-snap-carousel\";\n\nfunction NewsCarousel() {\n  const [Articles, setArticles] = useState([\n    {\n      urlToImage:\"https://picsum.photos/id/237/200/300\",\n      url:\"\",\n      title:\"OOPs bad network\",\n    }\n  ]);\n  const [activeIndex, setActiveIndex] = useState(0);\n\n  useEffect(() => {\n    const api = create({ baseURL: \"https://newsapi.org/v2\" });\n\n    async function fetchData() {\n      const result = await api.get(\n        \"/top-headlines?country=in&category=health&apiKey=c2c429428b644c709d33bc31f02cbb7f\"\n      );\n      if (!result.ok) {\n        console.log(result.problem);\n      } else {\n        setArticles(result.data.articles.slice(5,10)) ;\n        console.log(Articles);\n      }\n    }\n    fetchData().catch((error) => {\n      console.log(error);\n    });\n  }, []);\n\n  const ref = useRef(null);\n\n  const renderItem = useCallback(({ item, index }) => {\n    return (\n      <View\n        style={{\n          borderRadius: 5,\n          backgroundColor:\"#f2f2f2\",\n          overflow: \"hidden\",\n          justifyContent: \"center\",\n          alignContent: \"center\",\n          alignItems: \"center\",\n          textAlign: \"center\",\n          height: 250,\n        }}\n      >\n        <Image\n          style={{ width: 300, flex: 4, flexDirection: \"column\" }}\n          onPress={() => {\n            Linking.openURL(item.url);\n          }}\n          source={{ uri: item.urlToImage }}\n        ></Image>\n        <Text numberOfLines={2} style={{ fontSize: 15 ,flex:1, padding:5 }}>{item.title}</Text>\n      </View>\n    );\n  }, []);\n\n  return (\n    <>\n      <Carousel\n        layout={\"default\"}\n        autoplay={true}\n        enableMomentum={false}\n        lockScrollWhileSnapping={true}\n        autoplayDelay={1000}\n        autoplayInterval={3000}\n        ref={ref}\n        data={Articles}\n        sliderWidth={300}\n        itemWidth={300}\n        renderItem={renderItem}\n        loop={true}\n        onSnapToItem={(index) => setActiveIndex(index)}\n      />\n    </>\n  );\n}\n\nexport default NewsCarousel;\n"]},"metadata":{},"sourceType":"module"}