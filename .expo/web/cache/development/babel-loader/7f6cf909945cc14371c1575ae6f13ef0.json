{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Web dev\\\\DOConnect\\\\app\\\\screens\\\\profile\\\\PersonalDetailsScreen.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { LogBox } from \"react-native-web/dist/index\";\nimport { Layout, Radio, RadioGroup, Text, Button, Divider, useTheme, Icon, Modal, Card, ButtonGroup } from \"@ui-kitten/components\";\nimport * as Yup from \"yup\";\nimport Form from \"../../components/forms/Form\";\nimport FormField from \"../../components/forms/FormField\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport SubmitForm from \"../../components/forms/SubmitForm\";\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport ImageView from \"react-native-image-view\";\nimport { Register } from \"../../auth/auth\";\nimport { firestore, storage } from \"../../auth/firebase\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setUser, setUserState } from \"../../redux/actions/authActions\";\nimport { USER_TYPE } from \"../../redux/constants\";\n\nvar PersonalDetailsScreen = function PersonalDetailsScreen(_ref) {\n  var _auth$user, _auth$user2, _auth$user3, _auth$user4, _auth$user5;\n\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var theme = useTheme();\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedIndex = _useState2[0],\n      setSelectedIndex = _useState2[1];\n\n  var gender = [\"male\", \"female\", \"other\"];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      uri = _useState4[0],\n      setUri = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      modalVisible = _useState6[0],\n      setModalVisible = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      viewImage = _useState8[0],\n      setViewImage = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      profile = _useState10[0],\n      setProfile = _useState10[1];\n\n  var auth = useSelector(function (state) {\n    return state.auth;\n  });\n  var dispatch = useDispatch();\n\n  var getCameraAccess = function getCameraAccess() {\n    var _await$ImagePicker$re, granted, launchCamera;\n\n    return _regeneratorRuntime.async(function getCameraAccess$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.requestCameraPermissionsAsync());\n\n          case 2:\n            _await$ImagePicker$re = _context.sent;\n            granted = _await$ImagePicker$re.granted;\n\n            if (!granted) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(ImagePicker.launchCameraAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.Images,\n              allowsEditing: true\n            }));\n\n          case 7:\n            launchCamera = _context.sent;\n\n            if (launchCamera.cancelled) {\n              _context.next = 10;\n              break;\n            }\n\n            return _context.abrupt(\"return\", setUri(launchCamera.uri));\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var getMediaAccess = function getMediaAccess() {\n    var _await$ImagePicker$re2, granted, launchMedia;\n\n    return _regeneratorRuntime.async(function getMediaAccess$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync());\n\n          case 2:\n            _await$ImagePicker$re2 = _context2.sent;\n            granted = _await$ImagePicker$re2.granted;\n\n            if (!granted) {\n              _context2.next = 10;\n              break;\n            }\n\n            _context2.next = 7;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.Images\n            }));\n\n          case 7:\n            launchMedia = _context2.sent;\n\n            if (launchMedia.cancelled) {\n              _context2.next = 10;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", setUri(launchMedia.uri));\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var personalDetailsValidationSchema = Yup.object().shape({\n    firstName: Yup.string().trim().required(\"Required\"),\n    lastName: Yup.string().trim().required(\"Required\"),\n    age: Yup.number().min(18, \"Age should be greater than 18\").required(\"Required\").nullable(true),\n    gender: Yup.string().trim(),\n    phone: Yup.string().length(10, \"Invalid contact number!\").required(\"Required\")\n  });\n\n  var handleSubmit = function handleSubmit(values) {\n    return _regeneratorRuntime.async(function handleSubmit$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (auth.userType === USER_TYPE.PATIENT) {\n              dispatch(setUser(_objectSpread(_objectSpread({}, auth.user), {}, {\n                isProfileSet: true\n              }, values))).then(function (res) {\n                console.log(res.message);\n              }).catch(function (e) {\n                return console.log(e.message);\n              });\n            } else {\n              dispatch(setUserState(_objectSpread(_objectSpread({}, auth.user), values)));\n              navigation.navigate(\"DoctorRegistrationForm-2\", {\n                profile: _objectSpread(_objectSpread({}, values), {}, {\n                  gender: gender[selectedIndex],\n                  profileImg: uri\n                })\n              });\n            }\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(Layout, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 5\n    }\n  }, React.createElement(Modal, {\n    visible: modalVisible,\n    backdropStyle: {\n      backgroundColor: \"grey\"\n    },\n    onBackdropPress: function onBackdropPress() {\n      return setModalVisible(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }\n  }, React.createElement(Card, {\n    style: {\n      width: \"100%\",\n      padding: 10\n    },\n    header: function header() {\n      return React.createElement(Text, {\n        style: {\n          marginVertical: 10,\n          fontWeight: \"bold\",\n          fontSize: 15\n        },\n        adjustsFontSizeToFit: true,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }\n      }, \"How do you want to upload your photo?\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, React.createElement(Button, {\n    onPress: function onPress() {\n      getCameraAccess();\n      setModalVisible(false);\n    },\n    style: {\n      marginVertical: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }, \"Take a photo\"), React.createElement(Button, {\n    onPress: function onPress() {\n      getMediaAccess();\n      setModalVisible(false);\n    },\n    style: {\n      marginVertical: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }, \"Choose from gallery\"), React.createElement(Button, {\n    onPress: function onPress() {\n      setUri(null);\n      setModalVisible(false);\n    },\n    style: {\n      marginVertical: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 11\n    }\n  }, \"Remove photo\"), React.createElement(Button, {\n    onPress: function onPress() {\n      return setModalVisible(false);\n    },\n    style: {\n      marginVertical: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }\n  }, \"Cancel\"))), React.createElement(ScrollView, {\n    style: {\n      width: \"100%\",\n      paddingHorizontal: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }\n  }, React.createElement(React.Fragment, null, React.createElement(Layout, {\n    style: styles.category,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    category: \"h6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }\n  }, \"Personal Details\"), React.createElement(Divider, {\n    style: [styles.divider, {\n      backgroundColor: theme[\"color-primary-500\"]\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  })), React.createElement(Layout, {\n    style: [styles.profileImgContainer, {\n      backgroundColor: theme[\"color-primary-transparent-200\"]\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.editImgIconContainer,\n    onPress: function onPress() {\n      return setModalVisible(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"circle-edit-outline\",\n    color: theme[\"color-primary-500\"],\n    size: 30,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 15\n    }\n  })), React.createElement(ImageView, {\n    images: [{\n      source: {\n        uri: uri\n      }\n    }],\n    isVisible: viewImage,\n    imageIndex: 0,\n    animationType: \"fade\",\n    onClose: function onClose() {\n      return setViewImage(false);\n    },\n    style: styles.profileImg,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }\n  }), uri ? React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setViewImage(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 15\n    }\n  }, React.createElement(Image, {\n    source: {\n      uri: uri\n    },\n    style: styles.profileImg,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 17\n    }\n  })) : React.createElement(Icon, {\n    name: \"person-outline\",\n    fill: theme[\"color-primary-500\"],\n    style: {\n      height: 80,\n      width: 80\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 15\n    }\n  })), React.createElement(Form, {\n    initialValues: {\n      firstName: (_auth$user = auth.user) != null && _auth$user.firstName ? auth.user.firstName : \"\",\n      lastName: (_auth$user2 = auth.user) != null && _auth$user2.lastName ? auth.user.lastName : \"\",\n      age: (_auth$user3 = auth.user) != null && _auth$user3.age ? auth.user.age : null,\n      gender: (_auth$user4 = auth.user) != null && _auth$user4.gender ? auth.user.gender : gender[selectedIndex],\n      phone: (_auth$user5 = auth.user) != null && _auth$user5.phone ? auth.user.phone : \"\"\n    },\n    validationSchema: personalDetailsValidationSchema,\n    onSubmit: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 11\n    }\n  }, React.createElement(FormField, {\n    label: \"First Name\",\n    placeholder: \"First Name\",\n    name: \"firstName\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 13\n    }\n  }), React.createElement(FormField, {\n    label: \"Last Name\",\n    placeholder: \"Last Name\",\n    name: \"lastName\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 13\n    }\n  }), React.createElement(FormField, {\n    label: \"Age\",\n    placeholder: \"Age\",\n    keyboardType: \"number-pad\",\n    name: \"age\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 13\n    }\n  }), React.createElement(Layout, {\n    style: styles.radioContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    appearance: \"hint\",\n    style: {\n      fontSize: 12.5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 15\n    }\n  }, \"Gender\"), React.createElement(RadioGroup, {\n    selectedIndex: selectedIndex,\n    onChange: function onChange(index) {\n      return setSelectedIndex(index);\n    },\n    style: styles.radioGroup,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 15\n    }\n  }, React.createElement(Radio, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 17\n    }\n  }, \"Male\"), React.createElement(Radio, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 17\n    }\n  }, \"Female\"), React.createElement(Radio, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 17\n    }\n  }, \"Other\"))), React.createElement(FormField, {\n    label: \"Phone\",\n    placeholder: \"Phone\",\n    keyboardType: \"number-pad\",\n    name: \"phone\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 13\n    }\n  }), React.createElement(Layout, {\n    style: {\n      flexDirection: \"row\",\n      justifyContent: \"space-evenly\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 13\n    }\n  }, auth.userType === USER_TYPE.PATIENT ? React.createElement(SubmitForm, {\n    label: \"Submit\",\n    btnStyle: {\n      width: \"40%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 17\n    }\n  }) : React.createElement(React.Fragment, null, React.createElement(SubmitForm, {\n    label: \"Next\",\n    btnStyle: {\n      width: \"40%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 19\n    }\n  })))))));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1\n  },\n  heading: {\n    alignSelf: \"center\"\n  },\n  category: {\n    alignItems: \"center\",\n    marginVertical: 30\n  },\n  divider: {\n    width: \"20%\",\n    height: 2,\n    marginVertical: 10\n  },\n  profileImgContainer: {\n    height: 200,\n    width: 200,\n    borderRadius: 100,\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    justifyContent: \"center\"\n  },\n  profileImg: {\n    height: 200,\n    width: 200,\n    borderRadius: 100\n  },\n  editImgIconContainer: {\n    position: \"absolute\",\n    bottom: 5,\n    right: 5,\n    height: 40,\n    width: 40,\n    borderRadius: 20,\n    backgroundColor: \"#fff\",\n    zIndex: 5,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  editImgIcon: {\n    height: 30,\n    width: 30\n  },\n  radioContainer: {\n    marginLeft: 5,\n    marginTop: 10,\n    marginBottom: 2\n  },\n  radioGroup: {\n    flexDirection: \"row\"\n  },\n  btn: {\n    marginTop: 15\n  }\n});\nexport default PersonalDetailsScreen;","map":{"version":3,"sources":["D:/Web dev/DOConnect/app/screens/profile/PersonalDetailsScreen.jsx"],"names":["React","useState","useEffect","LogBox","Layout","Radio","RadioGroup","Text","Button","Divider","useTheme","Icon","Modal","Card","ButtonGroup","Yup","Form","FormField","ImagePicker","SubmitForm","MaterialCommunityIcons","ImageView","Register","firestore","storage","useDispatch","useSelector","setUser","setUserState","USER_TYPE","PersonalDetailsScreen","navigation","route","theme","selectedIndex","setSelectedIndex","gender","uri","setUri","modalVisible","setModalVisible","viewImage","setViewImage","profile","setProfile","auth","state","dispatch","getCameraAccess","requestCameraPermissionsAsync","granted","launchCameraAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","launchCamera","cancelled","getMediaAccess","requestMediaLibraryPermissionsAsync","launchImageLibraryAsync","launchMedia","personalDetailsValidationSchema","object","shape","firstName","string","trim","required","lastName","age","number","min","nullable","phone","length","handleSubmit","values","userType","PATIENT","user","isProfileSet","then","res","console","log","message","catch","e","navigate","profileImg","styles","container","backgroundColor","width","padding","marginVertical","fontWeight","fontSize","paddingHorizontal","category","divider","profileImgContainer","editImgIconContainer","source","height","radioContainer","index","radioGroup","flexDirection","justifyContent","StyleSheet","create","alignItems","flex","heading","alignSelf","borderRadius","position","bottom","right","zIndex","editImgIcon","marginLeft","marginTop","marginBottom","btn"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;;;SAMEC,M;AAEF,SACEC,MADF,EAEEC,KAFF,EAGEC,UAHF,EAIEC,IAJF,EAKEC,MALF,EAMEC,OANF,EAOEC,QAPF,EAQEC,IARF,EASEC,KATF,EAUEC,IAVF,EAWEC,WAXF,QAYO,uBAZP;AAaA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,OAAOC,IAAP;AACA,OAAOC,SAAP;AACA,OAAO,KAAKC,WAAZ,MAA6B,mBAA7B;AACA,OAAOC,UAAP;AACA,SAASC,sBAAT,QAAuC,oBAAvC;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAASC,QAAT;AACA,SAASC,SAAT,EAAoBC,OAApB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,OAAT,EAAkBC,YAAlB;AACA,SAASC,SAAT;;AAKA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,OAA2B;AAAA;;AAAA,MAAxBC,UAAwB,QAAxBA,UAAwB;AAAA,MAAZC,KAAY,QAAZA,KAAY;AAEvD,MAAMC,KAAK,GAAGvB,QAAQ,EAAtB;;AAGA,kBAA0CT,QAAQ,CAAC,CAAD,CAAlD;AAAA;AAAA,MAAOiC,aAAP;AAAA,MAAsBC,gBAAtB;;AACA,MAAMC,MAAM,GAAG,CAAC,MAAD,EAAS,QAAT,EAAmB,OAAnB,CAAf;;AACA,mBAAsBnC,QAAQ,CAAC,IAAD,CAA9B;AAAA;AAAA,MAAOoC,GAAP;AAAA,MAAYC,MAAZ;;AACA,mBAAwCrC,QAAQ,CAAC,KAAD,CAAhD;AAAA;AAAA,MAAOsC,YAAP;AAAA,MAAqBC,eAArB;;AACA,mBAAkCvC,QAAQ,CAAC,KAAD,CAA1C;AAAA;AAAA,MAAOwC,SAAP;AAAA,MAAkBC,YAAlB;;AACA,mBAA8BzC,QAAQ,CAAC,IAAD,CAAtC;AAAA;AAAA,MAAO0C,OAAP;AAAA,MAAgBC,UAAhB;;AAGA,MAAMC,IAAI,GAAGnB,WAAW,CAAC,UAACoB,KAAD;AAAA,WAAWA,KAAK,CAACD,IAAjB;AAAA,GAAD,CAAxB;AACA,MAAME,QAAQ,GAAGtB,WAAW,EAA5B;;AAQA,MAAMuB,eAAe,GAAG,SAAlBA,eAAkB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACI9B,WAAW,CAAC+B,6BAAZ,EADJ;;AAAA;AAAA;AACdC,YAAAA,OADc,yBACdA,OADc;;AAAA,iBAElBA,OAFkB;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAGOhC,WAAW,CAACiC,iBAAZ,CAA8B;AACvDC,cAAAA,UAAU,EAAElC,WAAW,CAACmC,gBAAZ,CAA6BC,MADc;AAEvDC,cAAAA,aAAa,EAAE;AAFwC,aAA9B,CAHP;;AAAA;AAGdC,YAAAA,YAHc;;AAAA,gBAQfA,YAAY,CAACC,SARE;AAAA;AAAA;AAAA;;AAAA,6CASXnB,MAAM,CAACkB,YAAY,CAACnB,GAAd,CATK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxB;;AAeA,MAAMqB,cAAc,GAAG,SAAjBA,cAAiB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACKxC,WAAW,CAACyC,mCAAZ,EADL;;AAAA;AAAA;AACbT,YAAAA,OADa,0BACbA,OADa;;AAAA,iBAEjBA,OAFiB;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAGOhC,WAAW,CAAC0C,uBAAZ,CAAoC;AAC5DR,cAAAA,UAAU,EAAElC,WAAW,CAACmC,gBAAZ,CAA6BC;AADmB,aAApC,CAHP;;AAAA;AAGbO,YAAAA,WAHa;;AAAA,gBAOdA,WAAW,CAACJ,SAPE;AAAA;AAAA;AAAA;;AAAA,8CAQVnB,MAAM,CAACuB,WAAW,CAACxB,GAAb,CARI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAcA,MAAMyB,+BAA+B,GAAG/C,GAAG,CAACgD,MAAJ,GAAaC,KAAb,CAAmB;AACzDC,IAAAA,SAAS,EAAElD,GAAG,CAACmD,MAAJ,GAAaC,IAAb,GAAoBC,QAApB,CAA6B,UAA7B,CAD8C;AAEzDC,IAAAA,QAAQ,EAAEtD,GAAG,CAACmD,MAAJ,GAAaC,IAAb,GAAoBC,QAApB,CAA6B,UAA7B,CAF+C;AAGzDE,IAAAA,GAAG,EAAEvD,GAAG,CAACwD,MAAJ,GACFC,GADE,CACE,EADF,EACM,+BADN,EAEFJ,QAFE,CAEO,UAFP,EAGFK,QAHE,CAGO,IAHP,CAHoD;AAQzDrC,IAAAA,MAAM,EAAErB,GAAG,CAACmD,MAAJ,GAAaC,IAAb,EARiD;AASzDO,IAAAA,KAAK,EAAE3D,GAAG,CAACmD,MAAJ,GACJS,MADI,CACG,EADH,EACO,yBADP,EAEJP,QAFI,CAEK,UAFL;AATkD,GAAnB,CAAxC;;AAcA,MAAMQ,YAAY,GAAG,SAAfA,YAAe,CAAOC,MAAP;AAAA;AAAA;AAAA;AAAA;AACnB,gBAAIhC,IAAI,CAACiC,QAAL,KAAkBjD,SAAS,CAACkD,OAAhC,EAAyC;AACvChC,cAAAA,QAAQ,CACNpB,OAAO,iCACFkB,IAAI,CAACmC,IADH;AAELC,gBAAAA,YAAY,EAAE;AAFT,iBAGFJ,MAHE,EADD,CAAR,CAOGK,IAPH,CAOQ,UAACC,GAAD,EAAS;AACbC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;AACD,eATH,EAUGC,KAVH,CAUS,UAACC,CAAD;AAAA,uBAAOJ,OAAO,CAACC,GAAR,CAAYG,CAAC,CAACF,OAAd,CAAP;AAAA,eAVT;AAuBD,aAxBD,MAwBO;AACLvC,cAAAA,QAAQ,CACNnB,YAAY,iCACPiB,IAAI,CAACmC,IADE,GAEPH,MAFO,EADN,CAAR;AAMA9C,cAAAA,UAAU,CAAC0D,QAAX,CAAoB,0BAApB,EAAgD;AAC9C9C,gBAAAA,OAAO,kCACFkC,MADE;AAELzC,kBAAAA,MAAM,EAAEA,MAAM,CAACF,aAAD,CAFT;AAGLwD,kBAAAA,UAAU,EAAErD;AAHP;AADuC,eAAhD;AAOD;;AAvCkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArB;;AA0CA,SACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAEsD,MAAM,CAACC,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AACE,IAAA,OAAO,EAAErD,YADX;AAEE,IAAA,aAAa,EAAE;AAAEsD,MAAAA,eAAe,EAAE;AAAnB,KAFjB;AAGE,IAAA,eAAe,EAAE;AAAA,aAAMrD,eAAe,CAAC,KAAD,CAArB;AAAA,KAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE;AAAEsD,MAAAA,KAAK,EAAE,MAAT;AAAiBC,MAAAA,OAAO,EAAE;AAA1B,KADT;AAEE,IAAA,MAAM,EAAE;AAAA,aACN,oBAAC,IAAD;AACE,QAAA,KAAK,EAAE;AAAEC,UAAAA,cAAc,EAAE,EAAlB;AAAsBC,UAAAA,UAAU,EAAE,MAAlC;AAA0CC,UAAAA,QAAQ,EAAE;AAApD,SADT;AAEE,QAAA,oBAAoB,EAAE,IAFxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDADM;AAAA,KAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAWE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAE,mBAAM;AACblD,MAAAA,eAAe;AACfR,MAAAA,eAAe,CAAC,KAAD,CAAf;AACD,KAJH;AAKE,IAAA,KAAK,EAAE;AAAEwD,MAAAA,cAAc,EAAE;AAAlB,KALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAXF,EAoBE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAE,mBAAM;AACbtC,MAAAA,cAAc;AACdlB,MAAAA,eAAe,CAAC,KAAD,CAAf;AACD,KAJH;AAKE,IAAA,KAAK,EAAE;AAAEwD,MAAAA,cAAc,EAAE;AAAlB,KALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BApBF,EA6BE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAE,mBAAM;AACb1D,MAAAA,MAAM,CAAC,IAAD,CAAN;AACAE,MAAAA,eAAe,CAAC,KAAD,CAAf;AACD,KAJH;AAKE,IAAA,KAAK,EAAE;AAAEwD,MAAAA,cAAc,EAAE;AAAlB,KALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBA7BF,EAsCE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAE;AAAA,aAAMxD,eAAe,CAAC,KAAD,CAArB;AAAA,KADX;AAEE,IAAA,KAAK,EAAE;AAAEwD,MAAAA,cAAc,EAAE;AAAlB,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAtCF,CALF,CADF,EAoDE,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAE;AAAEF,MAAAA,KAAK,EAAE,MAAT;AAAiBK,MAAAA,iBAAiB,EAAE;AAApC,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,0CACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAER,MAAM,CAACS,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE,oBAAC,OAAD;AACE,IAAA,KAAK,EAAE,CACLT,MAAM,CAACU,OADF,EAEL;AAAER,MAAAA,eAAe,EAAE5D,KAAK,CAAC,mBAAD;AAAxB,KAFK,CADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,EAWE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAE,CACL0D,MAAM,CAACW,mBADF,EAEL;AAAET,MAAAA,eAAe,EAAE5D,KAAK,CAAC,+BAAD;AAAxB,KAFK,CADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME,oBAAC,gBAAD;AACE,IAAA,KAAK,EAAE0D,MAAM,CAACY,oBADhB;AAEE,IAAA,OAAO,EAAE;AAAA,aAAM/D,eAAe,CAAC,IAAD,CAArB;AAAA,KAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,oBAAC,sBAAD;AACE,IAAA,IAAI,EAAC,qBADP;AAEE,IAAA,KAAK,EAAEP,KAAK,CAAC,mBAAD,CAFd;AAGE,IAAA,IAAI,EAAE,EAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CANF,EAgBE,oBAAC,SAAD;AACE,IAAA,MAAM,EAAE,CAAC;AAAEuE,MAAAA,MAAM,EAAE;AAAEnE,QAAAA,GAAG,EAAHA;AAAF;AAAV,KAAD,CADV;AAEE,IAAA,SAAS,EAAEI,SAFb;AAGE,IAAA,UAAU,EAAE,CAHd;AAIE,IAAA,aAAa,EAAC,MAJhB;AAKE,IAAA,OAAO,EAAE;AAAA,aAAMC,YAAY,CAAC,KAAD,CAAlB;AAAA,KALX;AAME,IAAA,KAAK,EAAEiD,MAAM,CAACD,UANhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBF,EAwBGrD,GAAG,GACF,oBAAC,gBAAD;AAAkB,IAAA,OAAO,EAAE;AAAA,aAAMK,YAAY,CAAC,IAAD,CAAlB;AAAA,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAE;AAAEL,MAAAA,GAAG,EAAHA;AAAF,KAAf;AAAwB,IAAA,KAAK,EAAEsD,MAAM,CAACD,UAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADE,GAKF,oBAAC,IAAD;AACE,IAAA,IAAI,EAAC,gBADP;AAEE,IAAA,IAAI,EAAEzD,KAAK,CAAC,mBAAD,CAFb;AAGE,IAAA,KAAK,EAAE;AAAEwE,MAAAA,MAAM,EAAE,EAAV;AAAcX,MAAAA,KAAK,EAAE;AAArB,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA7BJ,CAXF,EAgDE,oBAAC,IAAD;AACE,IAAA,aAAa,EAAE;AACb7B,MAAAA,SAAS,EAAE,cAAApB,IAAI,CAACmC,IAAL,wBAAWf,SAAX,GAAuBpB,IAAI,CAACmC,IAAL,CAAUf,SAAjC,GAA6C,EAD3C;AAEbI,MAAAA,QAAQ,EAAE,eAAAxB,IAAI,CAACmC,IAAL,yBAAWX,QAAX,GAAsBxB,IAAI,CAACmC,IAAL,CAAUX,QAAhC,GAA2C,EAFxC;AAGbC,MAAAA,GAAG,EAAE,eAAAzB,IAAI,CAACmC,IAAL,yBAAWV,GAAX,GAAiBzB,IAAI,CAACmC,IAAL,CAAUV,GAA3B,GAAiC,IAHzB;AAKblC,MAAAA,MAAM,EAAE,eAAAS,IAAI,CAACmC,IAAL,yBAAW5C,MAAX,GACJS,IAAI,CAACmC,IAAL,CAAU5C,MADN,GAEJA,MAAM,CAACF,aAAD,CAPG;AAQbwC,MAAAA,KAAK,EAAE,eAAA7B,IAAI,CAACmC,IAAL,yBAAWN,KAAX,GAAmB7B,IAAI,CAACmC,IAAL,CAAUN,KAA7B,GAAqC;AAR/B,KADjB;AAWE,IAAA,gBAAgB,EAAEZ,+BAXpB;AAYE,IAAA,QAAQ,EAAEc,YAZZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAcE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAC,YADR;AAEE,IAAA,WAAW,EAAC,YAFd;AAGE,IAAA,IAAI,EAAC,WAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdF,EAmBE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAC,WADR;AAEE,IAAA,WAAW,EAAC,WAFd;AAGE,IAAA,IAAI,EAAC,UAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnBF,EAwBE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAC,KADR;AAEE,IAAA,WAAW,EAAC,KAFd;AAGE,IAAA,YAAY,EAAC,YAHf;AAIE,IAAA,IAAI,EAAC,KAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBF,EAoCE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAEe,MAAM,CAACe,cAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,UAAU,EAAC,MAAjB;AAAwB,IAAA,KAAK,EAAE;AAAER,MAAAA,QAAQ,EAAE;AAAZ,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAIE,oBAAC,UAAD;AACE,IAAA,aAAa,EAAEhE,aADjB;AAEE,IAAA,QAAQ,EAAE,kBAACyE,KAAD;AAAA,aAAWxE,gBAAgB,CAACwE,KAAD,CAA3B;AAAA,KAFZ;AAGE,IAAA,KAAK,EAAEhB,MAAM,CAACiB,UAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,EAME,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,EAOE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAPF,CAJF,CApCF,EAkDE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAC,OADR;AAEE,IAAA,WAAW,EAAC,OAFd;AAGE,IAAA,YAAY,EAAC,YAHf;AAIE,IAAA,IAAI,EAAC,OAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlDF,EAwDE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAE;AAAEC,MAAAA,aAAa,EAAE,KAAjB;AAAwBC,MAAAA,cAAc,EAAE;AAAxC,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGGjE,IAAI,CAACiC,QAAL,KAAkBjD,SAAS,CAACkD,OAA5B,GACC,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAC,QAAlB;AAA2B,IAAA,QAAQ,EAAE;AAAEe,MAAAA,KAAK,EAAE;AAAT,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAGC,0CAME,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAC,MAAlB;AAAyB,IAAA,QAAQ,EAAE;AAAEA,MAAAA,KAAK,EAAE;AAAT,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CANJ,CAxDF,CAhDF,CADF,CApDF,CADF;AAmLD,CA9RD;;AAgSA,IAAMH,MAAM,GAAGoB,UAAU,CAACC,MAAX,CAAkB;AAC/BpB,EAAAA,SAAS,EAAE;AACTqB,IAAAA,UAAU,EAAE,QADH;AAETH,IAAAA,cAAc,EAAE,QAFP;AAGTI,IAAAA,IAAI,EAAE;AAHG,GADoB;AAM/BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,SAAS,EAAE;AADJ,GANsB;AAS/BhB,EAAAA,QAAQ,EAAE;AACRa,IAAAA,UAAU,EAAE,QADJ;AAERjB,IAAAA,cAAc,EAAE;AAFR,GATqB;AAa/BK,EAAAA,OAAO,EAAE;AACPP,IAAAA,KAAK,EAAE,KADA;AAEPW,IAAAA,MAAM,EAAE,CAFD;AAGPT,IAAAA,cAAc,EAAE;AAHT,GAbsB;AAkB/BM,EAAAA,mBAAmB,EAAE;AACnBG,IAAAA,MAAM,EAAE,GADW;AAEnBX,IAAAA,KAAK,EAAE,GAFY;AAGnBuB,IAAAA,YAAY,EAAE,GAHK;AAInBJ,IAAAA,UAAU,EAAE,QAJO;AAKnBG,IAAAA,SAAS,EAAE,QALQ;AAMnBN,IAAAA,cAAc,EAAE;AANG,GAlBU;AA0B/BpB,EAAAA,UAAU,EAAE;AACVe,IAAAA,MAAM,EAAE,GADE;AAEVX,IAAAA,KAAK,EAAE,GAFG;AAGVuB,IAAAA,YAAY,EAAE;AAHJ,GA1BmB;AA+B/Bd,EAAAA,oBAAoB,EAAE;AACpBe,IAAAA,QAAQ,EAAE,UADU;AAEpBC,IAAAA,MAAM,EAAE,CAFY;AAGpBC,IAAAA,KAAK,EAAE,CAHa;AAIpBf,IAAAA,MAAM,EAAE,EAJY;AAKpBX,IAAAA,KAAK,EAAE,EALa;AAMpBuB,IAAAA,YAAY,EAAE,EANM;AAOpBxB,IAAAA,eAAe,EAAE,MAPG;AAQpB4B,IAAAA,MAAM,EAAE,CARY;AASpBR,IAAAA,UAAU,EAAE,QATQ;AAUpBH,IAAAA,cAAc,EAAE;AAVI,GA/BS;AA2C/BY,EAAAA,WAAW,EAAE;AACXjB,IAAAA,MAAM,EAAE,EADG;AAEXX,IAAAA,KAAK,EAAE;AAFI,GA3CkB;AA+C/BY,EAAAA,cAAc,EAAE;AACdiB,IAAAA,UAAU,EAAE,CADE;AAEdC,IAAAA,SAAS,EAAE,EAFG;AAGdC,IAAAA,YAAY,EAAE;AAHA,GA/Ce;AAoD/BjB,EAAAA,UAAU,EAAE;AACVC,IAAAA,aAAa,EAAE;AADL,GApDmB;AAuD/BiB,EAAAA,GAAG,EAAE;AACHF,IAAAA,SAAS,EAAE;AADR;AAvD0B,CAAlB,CAAf;AA4DA,eAAe9F,qBAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  ScrollView,\r\n  Image,\r\n  TouchableOpacity,\r\n  LogBox,\r\n} from \"react-native\";\r\nimport {\r\n  Layout,\r\n  Radio,\r\n  RadioGroup,\r\n  Text,\r\n  Button,\r\n  Divider,\r\n  useTheme,\r\n  Icon,\r\n  Modal,\r\n  Card,\r\n  ButtonGroup,\r\n} from \"@ui-kitten/components\";\r\nimport * as Yup from \"yup\";\r\nimport Form from \"../../components/forms/Form\";\r\nimport FormField from \"../../components/forms/FormField\";\r\nimport * as ImagePicker from \"expo-image-picker\";\r\nimport SubmitForm from \"../../components/forms/SubmitForm\";\r\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\r\nimport ImageView from \"react-native-image-view\";\r\nimport { Register } from \"../../auth/auth\";\r\nimport { firestore, storage } from \"../../auth/firebase\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setUser, setUserState } from \"../../redux/actions/authActions\";\r\nimport { USER_TYPE } from \"../../redux/constants\";\r\n\r\n// TODO\r\n// Update form data to redux\r\n// Fetch hospital detais\r\nconst PersonalDetailsScreen = ({ navigation, route }) => {\r\n  // Theme\r\n  const theme = useTheme();\r\n\r\n  // States\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n  const gender = [\"male\", \"female\", \"other\"];\r\n  const [uri, setUri] = useState(null);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [viewImage, setViewImage] = useState(false);\r\n  const [profile, setProfile] = useState(null);\r\n\r\n  // Redux state\r\n  const auth = useSelector((state) => state.auth);\r\n  const dispatch = useDispatch();\r\n\r\n  // Hooks\r\n  // useEffect(() => {\r\n  //   LogBox.ignoreLogs([\"Animated: `useNativeDriver`\"]);\r\n  // }, []);\r\n\r\n  // Get Camera Access\r\n  const getCameraAccess = async () => {\r\n    const { granted } = await ImagePicker.requestCameraPermissionsAsync();\r\n    if (granted) {\r\n      const launchCamera = await ImagePicker.launchCameraAsync({\r\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n        allowsEditing: true,\r\n      });\r\n\r\n      if (!launchCamera.cancelled) {\r\n        return setUri(launchCamera.uri);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Get Media Access\r\n  const getMediaAccess = async () => {\r\n    const { granted } = await ImagePicker.requestMediaLibraryPermissionsAsync();\r\n    if (granted) {\r\n      const launchMedia = await ImagePicker.launchImageLibraryAsync({\r\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n      });\r\n\r\n      if (!launchMedia.cancelled) {\r\n        return setUri(launchMedia.uri);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Validation Schema\r\n  const personalDetailsValidationSchema = Yup.object().shape({\r\n    firstName: Yup.string().trim().required(\"Required\"),\r\n    lastName: Yup.string().trim().required(\"Required\"),\r\n    age: Yup.number()\r\n      .min(18, \"Age should be greater than 18\")\r\n      .required(\"Required\")\r\n      .nullable(true),\r\n    // email: Yup.string().email().trim().required(\"Required\"),\r\n    gender: Yup.string().trim(),\r\n    phone: Yup.string()\r\n      .length(10, \"Invalid contact number!\")\r\n      .required(\"Required\"),\r\n  });\r\n\r\n  const handleSubmit = async (values) => {\r\n    if (auth.userType === USER_TYPE.PATIENT) {\r\n      dispatch(\r\n        setUser({\r\n          ...auth.user,\r\n          isProfileSet: true,\r\n          ...values,\r\n        })\r\n      )\r\n        .then((res) => {\r\n          console.log(res.message);\r\n        })\r\n        .catch((e) => console.log(e.message));\r\n\r\n      // await firestore\r\n      //   .collection(\"patients\")\r\n      //   .doc(newUser.id)\r\n      //   .set(\r\n      //     {\r\n      //       ...values,\r\n      //       profileImg: uri,\r\n      //       gender: gender[selectedIndex],\r\n      //     },\r\n      //     { merge: true }\r\n      //   );\r\n    } else {\r\n      dispatch(\r\n        setUserState({\r\n          ...auth.user,\r\n          ...values,\r\n        })\r\n      );\r\n      navigation.navigate(\"DoctorRegistrationForm-2\", {\r\n        profile: {\r\n          ...values,\r\n          gender: gender[selectedIndex],\r\n          profileImg: uri,\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Layout style={styles.container}>\r\n      <Modal\r\n        visible={modalVisible}\r\n        backdropStyle={{ backgroundColor: \"grey\" }}\r\n        onBackdropPress={() => setModalVisible(false)}\r\n      >\r\n        <Card\r\n          style={{ width: \"100%\", padding: 10 }}\r\n          header={() => (\r\n            <Text\r\n              style={{ marginVertical: 10, fontWeight: \"bold\", fontSize: 15 }}\r\n              adjustsFontSizeToFit={true}\r\n            >\r\n              How do you want to upload your photo?\r\n            </Text>\r\n          )}\r\n        >\r\n          <Button\r\n            onPress={() => {\r\n              getCameraAccess();\r\n              setModalVisible(false);\r\n            }}\r\n            style={{ marginVertical: 10 }}\r\n          >\r\n            Take a photo\r\n          </Button>\r\n          <Button\r\n            onPress={() => {\r\n              getMediaAccess();\r\n              setModalVisible(false);\r\n            }}\r\n            style={{ marginVertical: 10 }}\r\n          >\r\n            Choose from gallery\r\n          </Button>\r\n          <Button\r\n            onPress={() => {\r\n              setUri(null);\r\n              setModalVisible(false);\r\n            }}\r\n            style={{ marginVertical: 10 }}\r\n          >\r\n            Remove photo\r\n          </Button>\r\n          <Button\r\n            onPress={() => setModalVisible(false)}\r\n            style={{ marginVertical: 10 }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n        </Card>\r\n      </Modal>\r\n      <ScrollView style={{ width: \"100%\", paddingHorizontal: 10 }}>\r\n        <>\r\n          <Layout style={styles.category}>\r\n            <Text category=\"h6\">Personal Details</Text>\r\n            <Divider\r\n              style={[\r\n                styles.divider,\r\n                { backgroundColor: theme[\"color-primary-500\"] },\r\n              ]}\r\n            />\r\n          </Layout>\r\n\r\n          <Layout\r\n            style={[\r\n              styles.profileImgContainer,\r\n              { backgroundColor: theme[\"color-primary-transparent-200\"] },\r\n            ]}\r\n          >\r\n            <TouchableOpacity\r\n              style={styles.editImgIconContainer}\r\n              onPress={() => setModalVisible(true)}\r\n            >\r\n              <MaterialCommunityIcons\r\n                name=\"circle-edit-outline\"\r\n                color={theme[\"color-primary-500\"]}\r\n                size={30}\r\n              />\r\n            </TouchableOpacity>\r\n            <ImageView\r\n              images={[{ source: { uri } }]}\r\n              isVisible={viewImage}\r\n              imageIndex={0}\r\n              animationType=\"fade\"\r\n              onClose={() => setViewImage(false)}\r\n              style={styles.profileImg}\r\n            />\r\n            {uri ? (\r\n              <TouchableOpacity onPress={() => setViewImage(true)}>\r\n                <Image source={{ uri }} style={styles.profileImg} />\r\n              </TouchableOpacity>\r\n            ) : (\r\n              <Icon\r\n                name=\"person-outline\"\r\n                fill={theme[\"color-primary-500\"]}\r\n                style={{ height: 80, width: 80 }}\r\n              />\r\n            )}\r\n          </Layout>\r\n\r\n          <Form\r\n            initialValues={{\r\n              firstName: auth.user?.firstName ? auth.user.firstName : \"\",\r\n              lastName: auth.user?.lastName ? auth.user.lastName : \"\",\r\n              age: auth.user?.age ? auth.user.age : null,\r\n              // email: \"\",\r\n              gender: auth.user?.gender\r\n                ? auth.user.gender\r\n                : gender[selectedIndex],\r\n              phone: auth.user?.phone ? auth.user.phone : \"\",\r\n            }}\r\n            validationSchema={personalDetailsValidationSchema}\r\n            onSubmit={handleSubmit}\r\n          >\r\n            <FormField\r\n              label=\"First Name\"\r\n              placeholder=\"First Name\"\r\n              name=\"firstName\"\r\n            />\r\n            <FormField\r\n              label=\"Last Name\"\r\n              placeholder=\"Last Name\"\r\n              name=\"lastName\"\r\n            />\r\n            <FormField\r\n              label=\"Age\"\r\n              placeholder=\"Age\"\r\n              keyboardType=\"number-pad\"\r\n              name=\"age\"\r\n            />\r\n            {/* <FormField\r\n              label=\"Email\"\r\n              placeholder=\"Email\"\r\n              keyboardType=\"email-address\"\r\n              name=\"email\"\r\n            /> */}\r\n            <Layout style={styles.radioContainer}>\r\n              <Text appearance=\"hint\" style={{ fontSize: 12.5 }}>\r\n                Gender\r\n              </Text>\r\n              <RadioGroup\r\n                selectedIndex={selectedIndex}\r\n                onChange={(index) => setSelectedIndex(index)}\r\n                style={styles.radioGroup}\r\n              >\r\n                <Radio>Male</Radio>\r\n                <Radio>Female</Radio>\r\n                <Radio>Other</Radio>\r\n              </RadioGroup>\r\n            </Layout>\r\n            <FormField\r\n              label=\"Phone\"\r\n              placeholder=\"Phone\"\r\n              keyboardType=\"number-pad\"\r\n              name=\"phone\"\r\n            />\r\n            <Layout\r\n              style={{ flexDirection: \"row\", justifyContent: \"space-evenly\" }}\r\n            >\r\n              {auth.userType === USER_TYPE.PATIENT ? (\r\n                <SubmitForm label=\"Submit\" btnStyle={{ width: \"40%\" }} />\r\n              ) : (\r\n                <>\r\n                  {/* <SubmitForm\r\n                    label=\"Previous\"\r\n                    btnStyle={{ width: \"40%\" }}\r\n                    onPress={() => navigation.}\r\n                  /> */}\r\n                  <SubmitForm label=\"Next\" btnStyle={{ width: \"40%\" }} />\r\n                </>\r\n              )}\r\n            </Layout>\r\n          </Form>\r\n        </>\r\n      </ScrollView>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    flex: 1,\r\n  },\r\n  heading: {\r\n    alignSelf: \"center\",\r\n  },\r\n  category: {\r\n    alignItems: \"center\",\r\n    marginVertical: 30,\r\n  },\r\n  divider: {\r\n    width: \"20%\",\r\n    height: 2,\r\n    marginVertical: 10,\r\n  },\r\n  profileImgContainer: {\r\n    height: 200,\r\n    width: 200,\r\n    borderRadius: 100,\r\n    alignItems: \"center\",\r\n    alignSelf: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  profileImg: {\r\n    height: 200,\r\n    width: 200,\r\n    borderRadius: 100,\r\n  },\r\n  editImgIconContainer: {\r\n    position: \"absolute\",\r\n    bottom: 5,\r\n    right: 5,\r\n    height: 40,\r\n    width: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: \"#fff\",\r\n    zIndex: 5,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  editImgIcon: {\r\n    height: 30,\r\n    width: 30,\r\n  },\r\n  radioContainer: {\r\n    marginLeft: 5,\r\n    marginTop: 10,\r\n    marginBottom: 2,\r\n  },\r\n  radioGroup: {\r\n    flexDirection: \"row\",\r\n  },\r\n  btn: {\r\n    marginTop: 15,\r\n  },\r\n});\r\n\r\nexport default PersonalDetailsScreen;\r\n"]},"metadata":{},"sourceType":"module"}